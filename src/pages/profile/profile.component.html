<div class="profile">
    <div class="profile__user-image">
        <img [src]="userPhoto" alt="UserIcon" class="profile__avatar">
        <p>
            <span class="profile__username">{{ userData.firstName || 'Usuario' }}</span>
        </p>
        <p><a href="#" class="profile__change-link" (click)="toggleImagePopup($event)">Cambia tu foto de perfil</a></p>
    </div>
    <form class="profile__form" (ngSubmit)="saveChanges()">
        <div class="profile__form-input">
            <label class="profile__label">Nombre
                <input type="text" name="firstName" id="profile-name" [(ngModel)]="formData.firstName" placeholder="Pablo" class="profile__input" required>
            </label>
        </div>
        <div class="profile__form-input">
            <label class="profile__label">Apellido
                <input type="text" name="lastName" id="profile-surname" [(ngModel)]="formData.lastName" placeholder="Acosta" class="profile__input" required>
            </label>
        </div>
        <div class="profile__form-input">
            <label class="profile__label">Email
                <input type="email" name="email" id="profile-email" [(ngModel)]="formData.email" placeholder="pablo1234@email.com" class="profile__input" disabled>
            </label>
        </div>
        <div class="profile__form-input">
            <input type="submit" name="submit-button" class="profile__input--button" value="Guardar Cambios">
        </div>
    </form>

    <div class="profile__image-popup" *ngIf="isImagePopupVisible">
        <div class="profile__popup-content">
            <h2>Cambiar Foto de Perfil</h2>
            <label class="profile__label">URL de la Imagen
                <input type="url" [(ngModel)]="newImageUrl" placeholder="https://example.com/image.jpg" class="profile__input profile__file-input" required>
            </label>
            <div class="profile__popup-buttons">
                <button class="profile__input--button" (click)="updateImageUrl()">Actualizar</button>
                <button class="profile__input--button profile__cancel-button" (click)="toggleImagePopup()">Cancelar</button>
            </div>
        </div>
    </div>
</div>